import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.TcFrwHGi.js";import{b as c}from"./auth-client.BQaCGZiS.js";function m({isOpen:t,user:r,navigation:o}){if(!t)return null;const s=async()=>{await c(),window.location.href="/"};return e.jsxs("div",{className:"sm:hidden border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-[#0d1117]",children:[e.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[o.map(n=>e.jsx("a",{href:n.href,className:"block px-4 py-2 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{fontSize:"15px"},children:n.name},n.name)),e.jsx("a",{href:"/trainings/new",className:"block px-4 py-2 font-medium text-primary-600 dark:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{fontSize:"15px"},children:"+ Dodaj trening"})]}),r&&e.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"px-4 flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:r.image?e.jsx("img",{className:"h-10 w-10 rounded-full",src:r.image,alt:r.name}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm",children:r.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",style:{fontSize:"15px"},children:r.name}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400",style:{fontSize:"14px"},children:r.email})]})]}),e.jsx("div",{className:"mt-3 space-y-1",children:e.jsx("button",{onClick:s,className:"block w-full text-left px-4 py-2 font-medium text-gray-600 dark:text-gray-400 hover:text-error-600 dark:hover:text-error-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{fontSize:"15px"},children:"Wyloguj się"})})]})]})}function x({user:t}){const[r,o]=i.useState(!1),s=i.useRef(null);i.useEffect(()=>{function l(a){s.current&&!s.current.contains(a.target)&&o(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const n=async()=>{await c(),window.location.href="/"};return e.jsxs("div",{className:"ml-4 relative",ref:s,children:[e.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-3 py-2 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>o(!r),style:{fontSize:"14px"},children:[t.image?e.jsx("img",{className:"h-8 w-8 rounded-full",src:t.image,alt:t.name}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm",children:t.name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"hidden md:block",children:t.name}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-[#161b22] ring-1 ring-black ring-opacity-5 dark:ring-gray-800 divide-y divide-gray-100 dark:divide-gray-800 z-50",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",style:{fontSize:"14px"},children:t.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 truncate",style:{fontSize:"13px"},children:t.email})]}),e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:n,className:"w-full text-left px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-error-600 dark:hover:text-error-400 flex items-center gap-2 transition-colors",style:{fontSize:"14px"},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Wyloguj się"]})})]})]})}const d=[{name:"Dashboard",href:"/dashboard"},{name:"Treningi",href:"/trainings"},{name:"Cele",href:"/goals"},{name:"Rekordy",href:"/personal-records"}];function p({user:t}){const[r,o]=i.useState(!1),[s,n]=i.useState(!1);i.useEffect(()=>{const a=document.documentElement.classList.contains("dark");n(a)},[]);const l=()=>{const a=!s;n(a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return e.jsxs("nav",{className:"bg-white dark:bg-[#0d1117] border-b border-gray-200 dark:border-gray-800 transition-colors",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx("a",{href:"/dashboard",className:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Dziennik Treningowy"})}),e.jsx("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-1",children:d.map(a=>e.jsx("a",{href:a.href,className:"inline-flex items-center px-3 py-2 font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",style:{fontSize:"14px"},children:a.name},a.name))})]}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center sm:space-x-2",children:[e.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Przełącz tryb ciemny",suppressHydrationWarning:!0,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",suppressHydrationWarning:!0,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z":"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),e.jsxs("a",{href:"/trainings/new",className:"inline-flex items-center px-4 py-2 font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-500 rounded-md transition-colors",style:{fontSize:"14px"},children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Dodaj trening"]}),t&&e.jsx(x,{user:t})]}),e.jsxs("div",{className:"flex items-center sm:hidden space-x-2",children:[e.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Przełącz tryb ciemny",suppressHydrationWarning:!0,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",suppressHydrationWarning:!0,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s?"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z":"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),e.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>o(!r),children:[e.jsx("span",{className:"sr-only",children:"Otwórz menu"}),r?e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})]})}),e.jsx(m,{isOpen:r,user:t,navigation:d})]})}export{p as Navbar};
