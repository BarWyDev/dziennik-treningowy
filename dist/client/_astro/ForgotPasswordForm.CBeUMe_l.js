import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.TcFrwHGi.js";import{u as y,a as h,L as f}from"./Label.CntfKGud.js";import{f as j}from"./auth-client.BQaCGZiS.js";import{f as g}from"./auth.aDAqnXXl.js";import{B as w}from"./Button.DG6KPLDP.js";import{I as k}from"./Input.hTVRzoe8.js";import{A as o}from"./Alert.D-DBx2Lh.js";function L(){const[t,r]=a.useState(null),[m,l]=a.useState(!1),[n,s]=a.useState(!1),{register:c,handleSubmit:d,formState:{errors:x}}=y({resolver:h(g)}),p=async u=>{s(!0),r(null);try{const i=await j({email:u.email,redirectTo:"/auth/reset-password"});if(i.error){r(i.error.message||"Wystąpił błąd");return}l(!0)}catch{r("Wystąpił błąd podczas wysyłania emaila")}finally{s(!1)}};return m?e.jsxs("div",{className:"text-center",children:[e.jsx(o,{variant:"success",title:"Email wysłany!",children:e.jsx("p",{children:"Jeśli konto z podanym adresem email istnieje, otrzymasz wiadomość z linkiem do resetowania hasła."})}),e.jsx("p",{className:"mt-6 text-sm lg:text-base text-gray-600 dark:text-gray-400",children:e.jsx("a",{href:"/auth/login",className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 font-medium",children:"Wróć do strony logowania"})})]}):e.jsxs("form",{onSubmit:d(p),className:"space-y-6",children:[t&&e.jsx(o,{variant:"error",children:t}),e.jsx("p",{className:"text-sm lg:text-base text-gray-600 dark:text-gray-400",children:"Podaj swój adres email, a wyślemy Ci link do resetowania hasła."}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"email",required:!0,children:"Email"}),e.jsx(k,{id:"email",type:"email",autoComplete:"email",placeholder:"jan@example.com",error:x.email?.message,...c("email")})]}),e.jsx(w,{type:"submit",className:"w-full",isLoading:n,children:"Wyślij link resetujący"}),e.jsx("p",{className:"text-center text-sm lg:text-base text-gray-600 dark:text-gray-400",children:e.jsx("a",{href:"/auth/login",className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 font-medium",children:"Wróć do logowania"})})]})}export{L as ForgotPasswordForm};
