import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.TcFrwHGi.js";import{u,a as h,L as n}from"./Label.CntfKGud.js";import{s as f}from"./auth-client.BQaCGZiS.js";import{l as j}from"./auth.aDAqnXXl.js";import{B as y}from"./Button.DG6KPLDP.js";import{I as d}from"./Input.hTVRzoe8.js";import{A as g}from"./Alert.D-DBx2Lh.js";function F(){const[s,e]=l.useState(null),[p,a]=l.useState(!1),{register:t,handleSubmit:c,formState:{errors:o}}=u({resolver:h(j)}),x=async i=>{a(!0),e(null);try{const m=await f.email({email:i.email,password:i.password});if(m.error){e(m.error.message||"Wystąpił błąd podczas logowania");return}window.location.href="/dashboard"}catch{e("Wystąpił błąd podczas logowania")}finally{a(!1)}};return r.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[s&&r.jsx(g,{variant:"error",children:s}),r.jsxs("div",{children:[r.jsx(n,{htmlFor:"email",required:!0,children:"Email"}),r.jsx(d,{id:"email",type:"email",autoComplete:"email",placeholder:"jan@example.com",error:o.email?.message,...t("email")})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(n,{htmlFor:"password",required:!0,children:"Hasło"}),r.jsx("a",{href:"/auth/forgot-password",className:"text-sm lg:text-base text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300",children:"Zapomniałeś hasła?"})]}),r.jsx(d,{id:"password",type:"password",autoComplete:"current-password",placeholder:"••••••••",error:o.password?.message,...t("password")})]}),r.jsx(y,{type:"submit",className:"w-full",isLoading:p,children:"Zaloguj się"}),r.jsxs("p",{className:"text-center text-sm lg:text-base text-gray-600 dark:text-gray-400",children:["Nie masz konta?"," ",r.jsx("a",{href:"/auth/register",className:"text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 font-medium",children:"Zarejestruj się"})]})]})}export{F as LoginForm};
